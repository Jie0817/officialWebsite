<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<script src="./../../utils/echarts.min.js"></script>
	<script src="./../../utils/world.js"></script>
	<script src="./../../utils/nameMap.js"></script>
	<style>
		* {
			margin: 0;
			padding: 0;
		}

		body,
		html,
		#main {
			height: 100%;
			width: 100%;
		}

		.active{
			color: #8361BB;
			margin: 0 6px;
			font-weight: 600;
		}
	</style>
</head>

<body>
	<div id="main"></div>
	<script>
		// const ROOT_PATH =
		// 	'https://cdn.jsdelivr.net/gh/apache/echarts-website@asf-site/examples';

		const chartDom = document.getElementById('main');
		const myChart = echarts.init(chartDom);

		// myChart.showLoading();
		// $.get(ROOT_PATH + '/data/asset/geo/USA.json', function (usaJson) {
		// console.log(usaJson);
		// myChart.hideLoading();
		echarts.registerMap('world', world);
		const option = {
			tooltip: {
				trigger: 'item',
				showDelay: 0,
				transitionDuration: .5,
				formatter: function (params) {
					let data = params.data || {}
					let textArr = []
					data.text?.forEach(item => {
						const value = (item.value + '').split('.');
						const valueStr = value[0].replace(
							/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,
							'$1,'
						);
						textArr.push(`${item.title}<span class="active">${valueStr}</span>H<br/>`)
					})
					return params.name + '<br/>' + textArr.join('');
					// return params.seriesName + '<br/>' + params.name + ': ' + valueStr;
				}
			},
			visualMap: {
				show : false
			},
			toolbox: {
				show: true,
				left: 'left',
				top: 'top',
				feature: {
					dataView: {
						readOnly: false
					},
					restore: {},
					saveAsImage: {}
				}
			},
			series: [{
				name: 'USA aaa',
				type: 'map',
				roam: true,
				map: 'world',
				emphasis: {
					label: {
						show: true
					}
				},
				data: [{
						name: 'China',
						text: [
							{
								title : 'Tianjin Dialect',
								value : 300
							},
							{
								title : 'Suzhou Dialect',
								value : 370
							},
							{
								title : 'Sichuan accent Mandarin',
								value : 300
							},
							{
								title : 'Regional accent Cantonese',
								value : 300
							},
							{
								title : 'Changsha Dialect',
								value : 300
							},
							{
								title : 'Mongolian',
								value : 500
							},
							{
								title : 'Qingdao Dialect',
								value : 300
							}
						],
						itemStyle: {
								color: '#8361BB'
						}
					},
					{
						name: 'Germany',
						text : [
							{
								title : 'German',
								value : 500
							}
						],
						itemStyle: {
								color: '#BCAADA'
						}
					},
					{
						name: 'Italy',
						text : [
							{
								title : 'Italian',
								value : 200
							}
						],
						itemStyle: {
								color: '#9981FF'
						}
					},
					{
						name : 'Portugal',
						text : [
							{
								title : 'Portuguese',
								value : 700
							}
						],
						itemStyle: {
								color: '#DD8BC0'
						}
					},
					{
						name : 'Spain',
						text : [
							{
								title : 'Spanish',
								value : 900
							}
						],
						itemStyle: {
								color: '#AB70AC'
						}
					},
					{
						name : 'Norway',
						text : [
							{
								title : 'Norwegian',
								value : 200
							}
						],
						itemStyle : {
								color: '#8361BB'
						}
					},
					{
						name : 'Sweden',
						text : [
							{
								title : 'Swedish',
								value : 200
							}
						],
						itemStyle : {
								color: '#8361BB'
						}
					},
					{
						name : 'Denmark',
						text : [
							{
								title : 'Danish',
								value : 200
							}
						],
						itemStyle : {
								color: '#8361BB'
						}
					},
					{
						name : 'Finland',
						text : [
							{
								title : 'Finnish',
								value : 200
							}
						],
						itemStyle : {
								color: '#8361BB'
						}
					},
					{
						name : 'Iceland',
						text : [
							{
								title : 'Icelandic',
								value : 100
							}
						],
						itemStyle : {
								color: '#AB70AC'
						}
					},
					{
						name : 'Poland',
						text : [
							{
								title : 'Polish',
								value : 200
							}
						],
						itemStyle : {
								color: '#ECC1FF'
						}
					},
					{
						name : 'Saudi Arabia',
						text : [
							{
								title : 'Arabic',
								value : 100
							}
						],
						itemStyle : {
								color: '#8361BB'
						}
					},
					{
						name : 'Thailand',
						text : [
							{
								title : 'Thai',
								value : 300
							}
						],
						itemStyle : {
								color: '#9981FF'
						}
					},
					{
						name : 'Turkey',
						text : [
							{
								title : 'Turkish',
								value : 100
							}
						],
						itemStyle : {
								color: '#DFA5FB'
						}
					},
					{
						name : 'Hungary',
						text : [
							{
								title : 'Hungarian',
								value : 100
							}
						],
						itemStyle : {
								color: '#CE77F9'
						}
					},
					{
						name : 'Georgia',
						text : [
							{
								title : 'Georgian',
								value : 100
							}
						],
						itemStyle : {
								color: '#A752FD'
						}
					},
					{
						name : 'Israel',
						text : [
							{
								title : 'Hebrew',
								value : 100
							}
						],
						itemStyle : {
								color: '#ECC1FF'
						}
					},
					{
						name : 'Bangladesh',
						text : [
							{
								title : 'Bengali',
								value : 100
							}
						],
						itemStyle : {
								color: '#DFA5FB'
						}
					},
					{
						name : 'Nepal',
						text : [
							{
								title : 'Nepali',
								value : 100
							}
						],
						itemStyle : {
								color: '#F3DFFD'
						}
					},
					{
						name : 'Myanmar',
						text : [
							{
								title : 'Burmese',
								value : 100
							}
						],
						itemStyle : {
								color: '#BF48FB'
						}
					},
					{
						name : 'Malaysia',
						text : [
							{
								title : 'Malaysian',
								value : 100
							}
						],
						itemStyle : {
								color: '#DD8BC0'
						}
					},
					{
						name : 'Czech Rep.',
						text : [
							{
								title : 'Czech',
								value : 100
							}
						],
						itemStyle : {
								color: '#BCAADA'
						}
					},
					{
						name : 'Romania',
						text : [
							{
								title : 'Romanesian',
								value : 100
							}
						],
						itemStyle : {
								color: '#945BAE'
						}
					},
					{
						name : 'Kenya',
						text : [
							{
								title : 'Swahili',
								value : 100
							}
						],
						itemStyle : {
								color: '#CE77F9'
						}
					},
					{
						name : 'Korea',
						text : [
							{
								title : 'Korean',
								value : 200
							}
						],
						itemStyle : {
								color: '#AC8EFF'
						}
					},
					{
						name : 'Japan',
						text : [
							{
								title : 'Japanese',
								value : 300
							}
						],
						itemStyle : {
								color: '#F3DFFD'
						}
					},
					{
						name : 'Russia',
						text : [
							{
								title : 'Russian',
								value : 200
							}
						],
						itemStyle : {
								color: '#A752FD'
						}
					},
					{
						name : 'India',
						text : [
							{
								title : 'Indian Accent English',
								value : 300
							}
						],
						itemStyle : {
								color: '#BF48FB'
						}
					},
					{
						name : 'United Kingdom',
						text : [
							{
								title : 'British English',
								value : 300
							}
						],
						itemStyle : {
								color: '#945BAE'
						}
					},
					{
						name : 'United States',
						text : [
							{
								title : 'American English',
								value : 300
							}
						],
						itemStyle : {
								color: '#5840E8'
						}
					},
					{
						name : 'France',
						text : [
							{
								title : 'French',
								value : 200
							}
						],
						itemStyle : {
								color: '#AC8EFF'
						}
					},
				]
			}]
		};
		myChart.setOption(option);
		// });

		option && myChart.setOption(option);
	</script>
</body>

</html>